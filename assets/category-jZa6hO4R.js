import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{C as b}from"./bootstrap.esm-CK6IUOcm.js";import{l as R}from"./lodash-De1oY7As.js";import{P as i}from"./index-DL4eWai9.js";import{r as a}from"./index-F28aNuxU.js";import{a as h,u as j}from"./react-redux-DiBVDDrZ.js";import{s as v,a as O,b as T}from"./accordion-DVxJyVYp.js";import{g as w}from"./extract--okyu-24.js";import{O as C}from"./topics_with_restrictions-CWaXyFN_.js";import{O as E}from"./topics_without_restriction-BfkrsaXJ.js";const f=function(o){const y=o.title,c=o.data,g=o.restriction,s=a.useRef(null),r=a.useRef(null),[p,u]=a.useState(!1),n=h(e=>e.accordion).category,l=h(e=>e.extract).data.GetExtractByIdResponse.extract,d=j(),m=function(){n===s.current?u(!p):u(!0),d(v(s.current)),d(O(null)),d(T([]))};a.useEffect(()=>{const e=new b(s.current,{toggle:!1});n===s.current&&p?(e.show(),r.current.classList.remove("collapsed")):(e.hide(),r.current.classList.add("collapsed")),n===null&&o.initial&&m()});const x=(()=>{if(g&&R.isArray(l.RealEstate.RestrictionOnLandownership)){const e=w(l.RealEstate.RestrictionOnLandownership,l.ConcernedTheme);return t.jsx(C,{data:c,restrictions:e})}return t.jsx(E,{data:c})})();return t.jsxs("div",{className:"accordion-item mt-3 oereb-client-category",children:[t.jsx("h2",{className:"accordion-header",children:t.jsx("button",{className:"accordion-button collapsed ps-1",type:"button",onClick:m,ref:r,children:t.jsxs("div",{className:"container-fluid",children:[t.jsx("strong",{children:y}),t.jsx("span",{className:"badge rounded-pill bg-secondary float-end",children:c.length})]})})}),t.jsx("div",{className:"accordion-collapse collapse",ref:s,children:x})]})};f.propTypes={title:i.string.isRequired,data:i.array.isRequired,restriction:i.bool.isRequired,initial:i.bool};f.__docgenInfo={description:`The container for each category. It uses a bootstrap accordion to show or hide the
category's data. Only one category can be shown at once.`,methods:[],displayName:"OerebCategory",props:{title:{description:"The category title.",type:{name:"string"},required:!0},data:{description:"The topics contained in this category.",type:{name:"array"},required:!0},restriction:{description:"Use `true` to show the restrictions data.",type:{name:"bool"},required:!0},initial:{description:"Initially show this category",type:{name:"bool"},required:!1}}};export{f as O};
