import{j as t}from"./jsx-runtime-xaxriM6s.js";import{C as x}from"./bootstrap.esm-M_-ShOkb.js";import{l as R}from"./lodash--L6Bz7n5.js";import{P as i}from"./index-Q7Y86ZCR.js";import{r as a}from"./index-NFP2aL9U.js";import{a as f,u as j}from"./react-redux-lyTcZrjd.js";import{s as O,a as v,b as T}from"./accordion-wZQ3bb94.js";import{g as w}from"./extract-5ht6sKor.js";import{O as C}from"./topics_with_restrictions-hHx9IW8M.js";import{O as E}from"./topics_without_restriction-MauvPOF2.js";const p=function(o){const y=o.title,c=o.data,g=o.restriction,s=a.useRef(null),r=a.useRef(null),[u,m]=a.useState(!1),n=f(e=>e.accordion).category,l=f(e=>e.extract).data.GetExtractByIdResponse.extract,d=j(),h=function(){n===s.current?m(!u):m(!0),d(O(s.current)),d(v(null)),d(T([]))};a.useEffect(()=>{const e=new x(s.current,{toggle:!1});n===s.current&&u?(e.show(),r.current.classList.remove("collapsed")):(e.hide(),r.current.classList.add("collapsed")),n===null&&o.initial&&h()});const b=(()=>{if(g&&R.isArray(l.RealEstate.RestrictionOnLandownership)){const e=w(l.RealEstate.RestrictionOnLandownership,l.ConcernedTheme);return t.jsx(C,{data:c,restrictions:e})}return t.jsx(E,{data:c})})();return t.jsxs("div",{className:"accordion-item mt-3 oereb-client-category",children:[t.jsx("h2",{className:"accordion-header",children:t.jsx("button",{className:"accordion-button collapsed ps-1",type:"button",onClick:h,ref:r,children:t.jsxs("div",{className:"container-fluid",children:[t.jsx("strong",{children:y}),t.jsx("span",{className:"badge rounded-pill bg-secondary float-end",children:c.length})]})})}),t.jsx("div",{className:"accordion-collapse collapse",ref:s,children:b})]})};p.propTypes={title:i.string.isRequired,data:i.array.isRequired,restriction:i.bool.isRequired,initial:i.bool};const k=p;p.__docgenInfo={description:`The container for each category. It uses a bootstrap accordion to show or hide the
category's data. Only one category can be shown at once.`,methods:[],displayName:"OerebCategory",props:{title:{description:"The category title.",type:{name:"string"},required:!0},data:{description:"The topics contained in this category.",type:{name:"array"},required:!0},restriction:{description:"Use `true` to show the restrictions data.",type:{name:"bool"},required:!0},initial:{description:"Initially show this category",type:{name:"bool"},required:!1}}};export{k as O};
