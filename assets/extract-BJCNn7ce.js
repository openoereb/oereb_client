import{l as h}from"./iframe-BRWzqT9J.js";class f extends Error{constructor(t){super(t),this.name="TooManyRequestsError"}}const E=function(s,t,o,a,n,c){const e=new URL(s+"extract/json/");return h.isString(t)?e.searchParams.append("EGRID",t):(e.searchParams.append("IDENTDN",o),e.searchParams.append("NUMBER",a)),e.searchParams.append("GEOMETRY",!0),e.searchParams.append("_dc",new Date().getTime()),c&&e.searchParams.append("LANG",c),new Promise((i,l)=>{const u=new AbortController,p=setTimeout(()=>u.abort(),n*1e3);fetch(e.toString(),{signal:u.signal}).then(r=>{clearTimeout(p),r.ok?i(r.json()):r.status===429?l(new f(r.text())):l(new Error(r.text()))}).catch(r=>{clearTimeout(p),l(r)})})},P=function(s,t,o,a,n,c){const e=new URL(s+"extract/pdf/");return h.isString(t)?e.searchParams.append("EGRID",t):(e.searchParams.append("IDENTDN",o),e.searchParams.append("NUMBER",a)),e.searchParams.append("_dc",new Date().getTime()),c&&e.searchParams.append("LANG",c),new Promise((i,l)=>{const u=new AbortController,p=setTimeout(()=>u.abort(),n*1e3);fetch(e.toString(),{signal:u.signal}).then(r=>{clearTimeout(p),r.ok?i(r.arrayBuffer()):r.status===429?l(new f(r.text())):l(new Error(r.text()))}).catch(r=>{clearTimeout(p),l(r)})})},m=function(s){let t=s.Code.replace(".","").replace("-","").replace("_","");return h.isString(s.SubCode)&&(t+="_"+s.SubCode.replace(".","").replace("-","").replace("_","")),t},T=function(s,t){let o=null;for(let a=0;a<t.length;a++)if(t[a].Code===s.Code){o=t[a];break}return o},x=function(s,t){const o={};return s.forEach(a=>{const n=m(a.Theme),c=a.Lawstatus.Code;if(!Reflect.apply(Object.prototype.hasOwnProperty,o,[n])){let e=null,i=null;h.isString(a.Theme.SubCode)?(i=a.Theme.Text,e=T(a.Theme,t).Text):e=a.Theme.Text,o[n]={themeText:e,subThemeText:i,inForce:[],changeWithPreEffect:[],changeWithoutPreEffect:[]}}o[n][c].push(a)}),o};export{f as T,P as a,x as g,E as q,m as s};
