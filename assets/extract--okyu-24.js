import{l as h}from"./lodash-De1oY7As.js";const d=function(r,a,n,t,s,c){const e=new URL(r+"extract/json/");return h.isString(a)?e.searchParams.append("EGRID",a):(e.searchParams.append("IDENTDN",n),e.searchParams.append("NUMBER",t)),e.searchParams.append("GEOMETRY",!0),e.searchParams.append("_dc",new Date().getTime()),c&&e.searchParams.append("LANG",c),new Promise((l,i)=>{const p=new AbortController,u=setTimeout(()=>p.abort(),s*1e3);fetch(e.toString(),{signal:p.signal}).then(o=>{clearTimeout(u),o.ok?l(o.json()):i(new Error(o.text()))}).catch(o=>{clearTimeout(u),i(o)})})},P=function(r,a,n,t,s,c){const e=new URL(r+"extract/pdf/");return h.isString(a)?e.searchParams.append("EGRID",a):(e.searchParams.append("IDENTDN",n),e.searchParams.append("NUMBER",t)),e.searchParams.append("_dc",new Date().getTime()),c&&e.searchParams.append("LANG",c),new Promise((l,i)=>{const p=new AbortController,u=setTimeout(()=>p.abort(),s*1e3);fetch(e.toString(),{signal:p.signal}).then(o=>{clearTimeout(u),o.ok?l(o.arrayBuffer()):i(new Error(o.text()))}).catch(o=>{clearTimeout(u),i(o)})})},m=function(r){let a=r.Code.replace(".","").replace("-","").replace("_","");return h.isString(r.SubCode)&&(a+="_"+r.SubCode.replace(".","").replace("-","").replace("_","")),a},f=function(r,a){let n=null;for(let t=0;t<a.length;t++)if(a[t].Code===r.Code){n=a[t];break}return n},E=function(r,a){const n={};return r.forEach(t=>{const s=m(t.Theme),c=t.Lawstatus.Code;if(!Reflect.apply(Object.prototype.hasOwnProperty,n,[s])){let e=null,l=null;h.isString(t.Theme.SubCode)?(l=t.Theme.Text,e=f(t.Theme,a).Text):e=t.Theme.Text,n[s]={themeText:e,subThemeText:l,inForce:[],changeWithPreEffect:[],changeWithoutPreEffect:[]}}n[s][c].push(t)}),n};export{P as a,E as g,d as q,m as s};
