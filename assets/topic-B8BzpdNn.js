import{j as e}from"./jsx-runtime-BdbbjX0y.js";import{C as R}from"./bootstrap.esm-CitYRSfU.js";import{L as k}from"./Group-D96BO-A7.js";import{P as I}from"./index-CxbGvwtT.js";import{r as t}from"./index-Cllag2AU.js";import{a as n,u as M}from"./react-redux-0eJ7qdss.js";import{a as g,b as v}from"./accordion-BmwluRog.js";import{a as q}from"./array-DLXj2DYH.js";import{g as A}from"./language-DUM2WhFX.js";import{O as D}from"./documents-tkD4BjCh.js";import{O as P}from"./legend-B2Do6mQ6.js";import{O as _}from"./responsible_office-C-Oz5obD.js";import{u as z}from"./useTranslation-Bpy18lAq.js";const l=function(j){const{t:b}=z(),a=j.restrictions,o=t.useRef(null),c=t.useRef(null),[p,d]=t.useState(!1),[i,y]=t.useState(1),[N,O]=t.useState(!1),m=n(s=>s.accordion).topic,u=n(s=>s.map).topicLayers,f=n(s=>s.language),w=f.current,L=f.default,r=M(),h=[];a.forEach(s=>{const C=s.Map;q(C,h)}),t.useEffect(()=>{const s=new R(o.current,{toggle:!1});m===o.current&&p?(s.show(),c.current.classList.remove("collapsed")):(s.hide(),c.current.classList.add("collapsed"))});let x=null;N&&(x=e.jsx("div",{className:"spinner-grow spinner-grow-sm text-secondary float-end me-2"})),t.useEffect(()=>{u instanceof k&&u.setOpacity(i)});const T=function(){m===o.current?(d(!p),r(g(null)),r(v({viewServices:[],callback:null}))):(d(!0),r(g(o.current)),r(v({viewServices:h,callback:O})))},S=function(s){y(s.target.value/100)},E=A(a[0].Lawstatus.Text,w,L);return e.jsxs("div",{className:"accordion-item oereb-client-topic",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button pt-2 pb-2 collapsed",type:"button",onClick:T,ref:c,children:e.jsxs("div",{className:"oereb-topic-lawstatus",children:[e.jsx("small",{className:"fst-italic",children:E}),x]})})}),e.jsx("div",{className:"accordion-collapse collapse",ref:o,children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"row align-items-center mb-2",children:[e.jsx("div",{className:"col-3",children:e.jsxs("small",{children:[b("extract.topic.opacity"),":"]})}),e.jsx("div",{className:"col-2 pe-2 text-end",children:e.jsxs("small",{children:[Math.round(i*100),"%"]})}),e.jsx("div",{className:"col-7",children:e.jsx("input",{type:"range",className:"form-range align-middle",min:"0",max:"100",value:Math.round(i*100),onChange:S})})]}),e.jsx(P,{restrictions:a}),e.jsx(D,{restrictions:a}),e.jsx(_,{restrictions:a})]})})]})};l.propTypes={restrictions:I.array.isRequired};const Z=l;l.__docgenInfo={description:"This component shows a certain topic of the currently loaded extract.",methods:[],displayName:"OerebTopic",props:{restrictions:{description:"The restrictions of the topic to be shown.",type:{name:"array"},required:!0}}};export{Z as O};
