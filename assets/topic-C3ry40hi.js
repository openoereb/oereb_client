import{r as t,a as n,u as R,j as e,c as x,d as g}from"./iframe-BVmJ0_b8.js";import{C as k}from"./bootstrap.esm-CGXSla9n.js";import{L as I}from"./Group-BItj5V-c.js";import{P as M}from"./index-BuzcJqdp.js";import{a as q}from"./array-Bu15psMp.js";import{g as A}from"./language-phDyDfJq.js";import{O as D}from"./documents-M0Grbi52.js";import{O as P}from"./legend-BpsZye3q.js";import{O as _}from"./responsible_office-p1BjPCY9.js";import{u as z}from"./useTranslation-zUGwAzKY.js";const v=function(j){const{t:y}=z(),a=j.restrictions,c=t.useRef(null),o=t.useRef(null),[l,d]=t.useState(!1),[i,b]=t.useState(1),[N,w]=t.useState(!1),p=n(s=>s.accordion).topic,u=n(s=>s.map).topicLayers,m=n(s=>s.language),L=m.current,O=m.default,r=R(),f=[];a.forEach(s=>{const C=s.Map;q(C,f)}),t.useEffect(()=>{const s=new k(c.current,{toggle:!1});p===c.current&&l?(s.show(),o.current.classList.remove("collapsed")):(s.hide(),o.current.classList.add("collapsed"))});let h=null;N&&(h=e.jsx("div",{className:"spinner-grow spinner-grow-sm text-secondary float-end me-2"})),t.useEffect(()=>{u instanceof I&&u.setOpacity(i)});const T=function(){p===c.current?(d(!l),r(x(null)),r(g({viewServices:[],callback:null}))):(d(!0),r(x(c.current)),r(g({viewServices:f,callback:w})))},S=function(s){b(s.target.value/100)},E=A(a[0].Lawstatus.Text,L,O);return e.jsxs("div",{className:"accordion-item oereb-client-topic",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button pt-2 pb-2 collapsed",type:"button",onClick:T,ref:o,children:e.jsxs("div",{className:"oereb-topic-lawstatus",children:[e.jsx("small",{className:"fst-italic",children:E}),h]})})}),e.jsx("div",{className:"accordion-collapse collapse",ref:c,children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"row align-items-center mb-2",children:[e.jsx("div",{className:"col-3",children:e.jsxs("small",{children:[y("extract.topic.opacity"),":"]})}),e.jsx("div",{className:"col-2 pe-2 text-end",children:e.jsxs("small",{children:[Math.round(i*100),"%"]})}),e.jsx("div",{className:"col-7",children:e.jsx("input",{type:"range",className:"form-range align-middle",min:"0",max:"100",value:Math.round(i*100),onChange:S})})]}),e.jsx(P,{restrictions:a}),e.jsx(D,{restrictions:a}),e.jsx(_,{restrictions:a})]})})]})};v.propTypes={restrictions:M.array.isRequired};v.__docgenInfo={description:"This component shows a certain topic of the currently loaded extract.",methods:[],displayName:"OerebTopic",props:{restrictions:{description:"The restrictions of the topic to be shown.",type:{name:"array"},required:!0}}};export{v as O};
