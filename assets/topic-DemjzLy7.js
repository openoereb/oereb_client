import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{C as R}from"./bootstrap.esm-CK6IUOcm.js";import{L as k}from"./Group-DNRPynxv.js";import{P as I}from"./index-DL4eWai9.js";import{r as t}from"./index-F28aNuxU.js";import{a as n,u as M}from"./react-redux-DiBVDDrZ.js";import{a as x,b as g}from"./accordion-DVxJyVYp.js";import{a as q}from"./array-BvJpNHyI.js";import{g as A}from"./language-0ROrJ-Cb.js";import{O as D}from"./documents-C250Hmit.js";import{O as P}from"./legend-ClzGZiqv.js";import{O as _}from"./responsible_office-DtCBwZjt.js";import{u as z}from"./useTranslation-HHJENg9B.js";const v=function(j){const{t:y}=z(),a=j.restrictions,o=t.useRef(null),c=t.useRef(null),[l,p]=t.useState(!1),[i,b]=t.useState(1),[N,w]=t.useState(!1),d=n(s=>s.accordion).topic,m=n(s=>s.map).topicLayers,u=n(s=>s.language),L=u.current,O=u.default,r=M(),f=[];a.forEach(s=>{const C=s.Map;q(C,f)}),t.useEffect(()=>{const s=new R(o.current,{toggle:!1});d===o.current&&l?(s.show(),c.current.classList.remove("collapsed")):(s.hide(),c.current.classList.add("collapsed"))});let h=null;N&&(h=e.jsx("div",{className:"spinner-grow spinner-grow-sm text-secondary float-end me-2"})),t.useEffect(()=>{m instanceof k&&m.setOpacity(i)});const T=function(){d===o.current?(p(!l),r(x(null)),r(g({viewServices:[],callback:null}))):(p(!0),r(x(o.current)),r(g({viewServices:f,callback:w})))},S=function(s){b(s.target.value/100)},E=A(a[0].Lawstatus.Text,L,O);return e.jsxs("div",{className:"accordion-item oereb-client-topic",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button pt-2 pb-2 collapsed",type:"button",onClick:T,ref:c,children:e.jsxs("div",{className:"oereb-topic-lawstatus",children:[e.jsx("small",{className:"fst-italic",children:E}),h]})})}),e.jsx("div",{className:"accordion-collapse collapse",ref:o,children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"row align-items-center mb-2",children:[e.jsx("div",{className:"col-3",children:e.jsxs("small",{children:[y("extract.topic.opacity"),":"]})}),e.jsx("div",{className:"col-2 pe-2 text-end",children:e.jsxs("small",{children:[Math.round(i*100),"%"]})}),e.jsx("div",{className:"col-7",children:e.jsx("input",{type:"range",className:"form-range align-middle",min:"0",max:"100",value:Math.round(i*100),onChange:S})})]}),e.jsx(P,{restrictions:a}),e.jsx(D,{restrictions:a}),e.jsx(_,{restrictions:a})]})})]})};v.propTypes={restrictions:I.array.isRequired};v.__docgenInfo={description:"This component shows a certain topic of the currently loaded extract.",methods:[],displayName:"OerebTopic",props:{restrictions:{description:"The restrictions of the topic to be shown.",type:{name:"array"},required:!0}}};export{v as O};
