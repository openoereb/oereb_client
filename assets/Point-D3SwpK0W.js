import{a as Z,h as $,t as G,B,i as j,m as H,b as u,j as J,r as z,k as Y,n as K,o as Q,s as V,p as tt,q as et}from"./extent-B4lttSIG.js";new Array(6);function nt(){return[1,0,0,1,0,0]}function Yt(e,t){const n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function it(e,t,n,i,s,r,o,a){const l=Math.sin(r),c=Math.cos(r);return e[0]=i*c,e[1]=s*l,e[2]=-i*l,e[3]=s*c,e[4]=o*i*c-a*i*l+t,e[5]=o*s*l+a*s*c+n,e}function Ot(e,t){const n=st(t);Z(n!==0,"Transformation matrix cannot be inverted");const i=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5];return e[0]=o/n,e[1]=-s/n,e[2]=-r/n,e[3]=i/n,e[4]=(r*l-o*a)/n,e[5]=-(i*l-s*a)/n,e}function st(e){return e[0]*e[3]-e[1]*e[2]}const O=[1e6,1e6,1e6,1e6,2,2];function vt(e){return"matrix("+e.map((n,i)=>Math.round(n*O[i])/O[i]).join(", ")+")"}const T={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class D{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||T[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const w=6378137,P=Math.PI*w,rt=[-P,-P,P,P],ot=[-180,-85,180,85],y=w*Math.log(Math.tan(Math.PI/2));class E extends D{constructor(t){super({code:t,units:"m",extent:rt,global:!0,worldExtent:ot,getPointResolution:function(n,i){return n/Math.cosh(i[1]/w)}})}}const v=[new E("EPSG:3857"),new E("EPSG:102100"),new E("EPSG:102113"),new E("EPSG:900913"),new E("http://www.opengis.net/def/crs/EPSG/0/3857"),new E("http://www.opengis.net/gml/srs/epsg.xml#3857")];function at(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n){t[s]=P*e[s]/180;let r=w*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));r>y?r=y:r<-y&&(r=-y),t[s+1]=r}return t}function lt(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n)t[s]=180*e[s]/P,t[s+1]=360*Math.atan(Math.exp(e[s+1]/w))/Math.PI-90;return t}const ct=6378137,b=[-180,-90,180,90],ft=Math.PI*ct/180;class d extends D{constructor(t,n){super({code:t,units:"degrees",extent:b,axisOrientation:n,global:!0,metersPerUnit:ft,worldExtent:b})}}const A=[new d("CRS:84"),new d("EPSG:4326","neu"),new d("urn:ogc:def:crs:OGC:1.3:CRS84"),new d("urn:ogc:def:crs:OGC:2:84"),new d("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new d("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new d("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let R={};function ht(e){return R[e]||R[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function ut(e,t){R[e]=t}let C={};function S(e,t,n){const i=e.getCode(),s=t.getCode();i in C||(C[i]={}),C[i][s]=n}function gt(e,t){let n;return e in C&&t in C[e]&&(n=C[e][t]),n}function bt(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function dt(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function At(e,t){const n=Math.cos(t),i=Math.sin(t),s=e[0]*n-e[1]*i,r=e[1]*n+e[0]*i;return e[0]=s,e[1]=r,e}function qt(e,t){return e[0]*=t,e[1]*=t,e}function Nt(e,t){if(t.canWrapX()){const n=$(t.getExtent()),i=mt(e,t,n);i&&(e[0]-=i*n)}return e}function mt(e,t,n){const i=t.getExtent();let s=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||$(i),s=Math.floor((e[0]-i[0])/n)),s}const xt=63710088e-1;function q(e,t,n){n=n||xt;const i=G(e[1]),s=G(t[1]),r=(s-i)/2,o=G(t[0]-e[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function Et(...e){console.warn(...e)}let U=!0;function pt(e){U=!(e===void 0?!0:e)}function F(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function L(e,t){if(t!==void 0&&e!==t){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function Pt(e){ut(e.getCode(),e),S(e,e,F)}function Ct(e){e.forEach(Pt)}function m(e){return typeof e=="string"?ht(e):e||null}function Wt(e,t,n,i){e=m(e);let s;const r=e.getPointResolutionFunc();if(r){if(s=r(t,n),i&&i!==e.getUnits()){const o=e.getMetersPerUnit();o&&(s=s*o/T[i])}}else{const o=e.getUnits();if(o=="degrees"&&!i||i=="degrees")s=t;else{const a=I(e,m("EPSG:4326"));if(a===L&&o!=="degrees")s=t*e.getMetersPerUnit();else{let c=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];c=a(c,c,2);const h=q(c.slice(0,2),c.slice(2,4)),f=q(c.slice(4,6),c.slice(6,8));s=(h+f)/2}const l=i?T[i]:e.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function N(e){Ct(e),e.forEach(function(t){e.forEach(function(n){t!==n&&S(t,n,F)})})}function wt(e,t,n,i){e.forEach(function(s){t.forEach(function(r){S(s,r,n),S(r,s,i)})})}function $t(e,t){return e?typeof e=="string"?m(e):e:m(t)}function Dt(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||I(e,t)===F)&&n}function I(e,t){const n=e.getCode(),i=t.getCode();let s=gt(n,i);return s||(s=L),s}function X(e,t){const n=m(e),i=m(t);return I(n,i)}function Lt(e,t,n){return X(t,n)(e,void 0,e.length)}function kt(e,t){return e}function Zt(e,t){return U&&!dt(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(U=!1,Et("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function Bt(e,t){return e}function jt(e,t){return e}function Mt(){N(v),N(A),wt(A,v,at,lt)}Mt();function yt(e,t,n,i,s,r){r=r||[];let o=0;for(let a=t;a<n;a+=i){const l=e[a],c=e[a+1];r[o++]=s[0]*l+s[2]*c+s[4],r[o++]=s[1]*l+s[3]*c+s[5]}return r&&r.length!=o&&(r.length=o),r}function St(e,t,n,i,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),c=r[0],h=r[1];let f=0;for(let g=t;g<n;g+=i){const M=e[g]-c,x=e[g+1]-h;o[f++]=c+M*a-x*l,o[f++]=h+M*l+x*a;for(let _=g+2;_<g+i;++_)o[f++]=e[_]}return o&&o.length!=f&&(o.length=f),o}function _t(e,t,n,i,s,r,o,a){a=a||[];const l=o[0],c=o[1];let h=0;for(let f=t;f<n;f+=i){const g=e[f]-l,M=e[f+1]-c;a[h++]=l+s*g,a[h++]=c+r*M;for(let x=f+2;x<f+i;++x)a[h++]=e[x]}return a&&a.length!=h&&(a.length=h),a}function Gt(e,t,n,i,s,r,o){o=o||[];let a=0;for(let l=t;l<n;l+=i){o[a++]=e[l]+s,o[a++]=e[l+1]+r;for(let c=l+2;c<l+i;++c)o[a++]=e[c]}return o&&o.length!=a&&(o.length=a),o}const p=nt();class Tt extends B{constructor(){super(),this.extent_=j(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=H((t,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return u()}closestPointXY(t,n,i,s){return u()}containsXY(t,n){const i=this.getClosestPoint([t,n]);return i[0]===t&&i[1]===n}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return u()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&J(n),this.extentRevision_=this.getRevision()}return z(this.extent_,t)}rotate(t,n){u()}scale(t,n,i){u()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return u()}getType(){return u()}applyTransform(t){u()}intersectsExtent(t){return u()}translate(t,n){u()}transform(t,n){const i=m(t),s=i.getUnits()=="tile-pixels"?function(r,o,a){const l=i.getExtent(),c=i.getWorldExtent(),h=Y(c)/Y(l);return it(p,c[0],c[3],h,-h,0,0,0),yt(r,0,r.length,a,p,o),X(i,n)(r,o,a)}:X(i,n);return this.applyTransform(s),this}}class Rt extends Tt{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return K(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return u()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=W(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){u()}setLayout(t,n,i){let s;if(t)s=W(t);else{for(let r=0;r<i;++r){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,t=Ut(s)}this.layout=t,this.stride=s}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();St(i,0,i.length,s,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=Q(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();_t(s,0,s.length,r,t,n,i,s),this.changed()}}translate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();Gt(i,0,i.length,s,t,n,i),this.changed()}}}function Ut(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function W(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function Xt(e,t,n,i){for(let s=0,r=n.length;s<r;++s)e[t++]=n[s];return t}function Ft(e,t,n,i){for(let s=0,r=n.length;s<r;++s){const o=n[s];for(let a=0;a<i;++a)e[t++]=o[a]}return t}function Ht(e,t,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=Ft(e,t,n[o],i);s[r++]=l,t=l}return s.length=r,s}class k extends Rt{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new k(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){const r=this.flatCoordinates,o=V(t,n,r[0],r[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)i[l]=r[l];return i.length=a,o}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return tt(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return et(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Xt(this.flatCoordinates,0,t,this.stride),this.changed()}}export{T as M,k as P,Rt as S,Ht as a,jt as b,$t as c,Ft as d,bt as e,Zt as f,Bt as g,dt as h,pt as i,nt as j,Yt as k,it as l,m,Ot as n,Et as o,X as p,Lt as q,At as r,qt as s,kt as t,Wt as u,vt as v,Nt as w,Dt as x};
