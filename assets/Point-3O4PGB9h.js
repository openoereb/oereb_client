import{a as j,h as L,t as R,B as V,i as z,m as H,b as u,j as J,r as K,k as A,n as Q,o as tt,s as et,p as nt,q as it}from"./extent-wPkUfp-B.js";const g=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",$t=g.includes("firefox"),st=g.includes("safari")&&!g.includes("chrom");st&&(g.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(g));const Dt=g.includes("webkit")&&!g.includes("edge"),qt=g.includes("macintosh"),Lt=typeof devicePixelRatio<"u"?devicePixelRatio:1,rt=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,kt=typeof Image<"u"&&Image.prototype.decode,Bt=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}();new Array(6);function ot(){return[1,0,0,1,0,0]}function Zt(e,t){const n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function at(e,t,n,i,s,r,o,a){const l=Math.sin(r),c=Math.cos(r);return e[0]=i*c,e[1]=s*l,e[2]=-i*l,e[3]=s*c,e[4]=o*i*c-a*i*l+t,e[5]=o*s*l+a*s*c+n,e}function jt(e,t){const n=lt(t);j(n!==0,"Transformation matrix cannot be inverted");const i=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5];return e[0]=o/n,e[1]=-s/n,e[2]=-r/n,e[3]=i/n,e[4]=(r*l-o*a)/n,e[5]=-(i*l-s*a)/n,e}function lt(e){return e[0]*e[3]-e[1]*e[2]}let O;function Vt(e){const t="matrix("+e.join(", ")+")";if(rt)return t;const n=O||(O=document.createElement("div"));return n.style.transform=t,n.style.transform}const T={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class ct{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||T[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const k=ct,w=6378137,C=Math.PI*w,ft=[-C,-C,C,C],ht=[-180,-85,180,85],_=w*Math.log(Math.tan(Math.PI/2));class P extends k{constructor(t){super({code:t,units:"m",extent:ft,global:!0,worldExtent:ht,getPointResolution:function(n,i){return n/Math.cosh(i[1]/w)}})}}const b=[new P("EPSG:3857"),new P("EPSG:102100"),new P("EPSG:102113"),new P("EPSG:900913"),new P("http://www.opengis.net/def/crs/EPSG/0/3857"),new P("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ut(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n){t[s]=C*e[s]/180;let r=w*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));r>_?r=_:r<-_&&(r=-_),t[s+1]=r}return t}function dt(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n)t[s]=180*e[s]/C,t[s+1]=360*Math.atan(Math.exp(e[s+1]/w))/Math.PI-90;return t}const gt=6378137,Y=[-180,-90,180,90],mt=Math.PI*gt/180;class m extends k{constructor(t,n){super({code:t,units:"degrees",extent:Y,axisOrientation:n,global:!0,metersPerUnit:mt,worldExtent:Y})}}const N=[new m("CRS:84"),new m("EPSG:4326","neu"),new m("urn:ogc:def:crs:OGC:1.3:CRS84"),new m("urn:ogc:def:crs:OGC:2:84"),new m("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new m("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new m("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let F={};function Et(e){return F[e]||F[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function xt(e,t){F[e]=t}let y={};function M(e,t,n){const i=e.getCode(),s=t.getCode();i in y||(y[i]={}),y[i][s]=n}function Pt(e,t){let n;return e in y&&t in y[e]&&(n=y[e][t]),n}function zt(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function Ct(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function Ht(e,t){const n=Math.cos(t),i=Math.sin(t),s=e[0]*n-e[1]*i,r=e[1]*n+e[0]*i;return e[0]=s,e[1]=r,e}function Jt(e,t){return e[0]*=t,e[1]*=t,e}function Kt(e,t){if(t.canWrapX()){const n=L(t.getExtent()),i=yt(e,t,n);i&&(e[0]-=i*n)}return e}function yt(e,t,n){const i=t.getExtent();let s=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||L(i),s=Math.floor((e[0]-i[0])/n)),s}const wt=63710088e-1;function W(e,t,n){n=n||wt;const i=R(e[1]),s=R(t[1]),r=(s-i)/2,o=R(t[0]-e[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const B={info:1,warn:2,error:3,none:4};let St=B.info;function _t(...e){St>B.warn||console.warn(...e)}let v=!0;function Qt(e){v=!(e===void 0?!0:e)}function I(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function Z(e,t){if(t!==void 0&&e!==t){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function Mt(e){xt(e.getCode(),e),M(e,e,I)}function Gt(e){e.forEach(Mt)}function E(e){return typeof e=="string"?Et(e):e||null}function te(e,t,n,i){e=E(e);let s;const r=e.getPointResolutionFunc();if(r){if(s=r(t,n),i&&i!==e.getUnits()){const o=e.getMetersPerUnit();o&&(s=s*o/T[i])}}else{const o=e.getUnits();if(o=="degrees"&&!i||i=="degrees")s=t;else{const a=U(e,E("EPSG:4326"));if(a===Z&&o!=="degrees")s=t*e.getMetersPerUnit();else{let c=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];c=a(c,c,2);const h=W(c.slice(0,2),c.slice(2,4)),f=W(c.slice(4,6),c.slice(6,8));s=(h+f)/2}const l=i?T[i]:e.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function $(e){Gt(e),e.forEach(function(t){e.forEach(function(n){t!==n&&M(t,n,I)})})}function Rt(e,t,n,i){e.forEach(function(s){t.forEach(function(r){M(s,r,n),M(r,s,i)})})}function ee(e,t){return e?typeof e=="string"?E(e):e:E(t)}function ne(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||U(e,t)===I)&&n}function U(e,t){const n=e.getCode(),i=t.getCode();let s=Pt(n,i);return s||(s=Z),s}function X(e,t){const n=E(e),i=E(t);return U(n,i)}function ie(e,t,n){return X(t,n)(e,void 0,e.length)}function se(e,t){return e}function re(e,t){return v&&!Ct(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(v=!1,_t("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function oe(e,t){return e}function ae(e,t){return e}function Tt(){$(b),$(N),Rt(N,b,ut,dt)}Tt();function Ft(e,t,n,i,s,r){r=r||[];let o=0;for(let a=t;a<n;a+=i){const l=e[a],c=e[a+1];r[o++]=s[0]*l+s[2]*c+s[4],r[o++]=s[1]*l+s[3]*c+s[5]}return r&&r.length!=o&&(r.length=o),r}function vt(e,t,n,i,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),c=r[0],h=r[1];let f=0;for(let d=t;d<n;d+=i){const S=e[d]-c,x=e[d+1]-h;o[f++]=c+S*a-x*l,o[f++]=h+S*l+x*a;for(let G=d+2;G<d+i;++G)o[f++]=e[G]}return o&&o.length!=f&&(o.length=f),o}function Xt(e,t,n,i,s,r,o,a){a=a||[];const l=o[0],c=o[1];let h=0;for(let f=t;f<n;f+=i){const d=e[f]-l,S=e[f+1]-c;a[h++]=l+s*d,a[h++]=c+r*S;for(let x=f+2;x<f+i;++x)a[h++]=e[x]}return a&&a.length!=h&&(a.length=h),a}function It(e,t,n,i,s,r,o){o=o||[];let a=0;for(let l=t;l<n;l+=i){o[a++]=e[l]+s,o[a++]=e[l+1]+r;for(let c=l+2;c<l+i;++c)o[a++]=e[c]}return o&&o.length!=a&&(o.length=a),o}const D=ot();class Ut extends V{constructor(){super(),this.extent_=z(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=H((t,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return u()}closestPointXY(t,n,i,s){return u()}containsXY(t,n){const i=this.getClosestPoint([t,n]);return i[0]===t&&i[1]===n}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return u()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&J(n),this.extentRevision_=this.getRevision()}return K(this.extent_,t)}rotate(t,n){u()}scale(t,n,i){u()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return u()}getType(){return u()}applyTransform(t){u()}intersectsExtent(t){return u()}translate(t,n){u()}transform(t,n){const i=E(t),s=i.getUnits()=="tile-pixels"?function(r,o,a){const l=i.getExtent(),c=i.getWorldExtent(),h=A(c)/A(l);return at(D,c[0],c[3],h,-h,0,0,0),Ft(r,0,r.length,a,D,o),X(i,n)(r,o,a)}:X(i,n);return this.applyTransform(s),this}}const pt=Ut;class At extends pt{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Q(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return u()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=q(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){u()}setLayout(t,n,i){let s;if(t)s=q(t);else{for(let r=0;r<i;++r){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,t=Ot(s)}this.layout=t,this.stride=s}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();vt(i,0,i.length,s,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=tt(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();Xt(s,0,s.length,r,t,n,i,s),this.changed()}}translate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();It(i,0,i.length,s,t,n,i),this.changed()}}}function Ot(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function q(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}const bt=At;function Yt(e,t,n,i){for(let s=0,r=n.length;s<r;++s)e[t++]=n[s];return t}function Nt(e,t,n,i){for(let s=0,r=n.length;s<r;++s){const o=n[s];for(let a=0;a<i;++a)e[t++]=o[a]}return t}function le(e,t,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=Nt(e,t,n[o],i);s[r++]=l,t=l}return s.length=r,s}class p extends bt{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new p(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){const r=this.flatCoordinates,o=et(t,n,r[0],r[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)i[l]=r[l];return i.length=a,o}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return nt(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return it(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Yt(this.flatCoordinates,0,t,this.stride),this.changed()}}const ce=p;export{ne as A,Lt as D,$t as F,kt as I,T as M,ce as P,bt as S,rt as W,le as a,ae as b,ee as c,Nt as d,zt as e,re as f,oe as g,Ct as h,Qt as i,ot as j,Zt as k,at as l,E as m,jt as n,Bt as o,Dt as p,qt as q,Ht as r,Jt as s,se as t,_t as u,X as v,Kt as w,ie as x,te as y,Vt as z};
