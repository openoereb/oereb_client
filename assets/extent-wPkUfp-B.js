class U{constructor(n){this.propagationStopped,this.defaultPrevented,this.type=n,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const A=U,F={PROPERTYCHANGE:"propertychange"};class G{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}const D=G;function V(s,n){return s>n?1:s<n?-1:0}function os(s,n,t){if(s[0]<=n)return 0;const i=s.length;if(n<=s[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){const e=s[r];if(e===n)return r;if(e<n)return t(n,s[r-1],e)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(s[r]<n)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(s[r]<=n)return r;return i-1}for(let r=1;r<i;++r){if(s[r]==n)return r;if(s[r]<n)return s[r-1]-n<n-s[r]?r-1:r}return i-1}function us(s,n){const t=Array.isArray(n)?n:[n],i=t.length;for(let r=0;r<i;r++)s[s.length]=t[r]}function H(s,n){const t=s.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(s[i]!==n[i])return!1;return!0}function as(s,n,t){const i=n||V;return s.every(function(r,e){if(e===0)return!0;const a=i(s[e-1],r);return!(a>0||t&&a===0)})}function ls(){return!0}function cs(){return!1}function O(){}function fs(s){let n=!1,t,i,r;return function(){const e=Array.prototype.slice.call(arguments);return(!n||this!==r||!H(e,i))&&(n=!0,r=this,i=e,t=s.apply(this,arguments)),t}}function C(s){for(const n in s)delete s[n]}function K(s){let n;for(n in s)return!1;return!n}class Y extends D{constructor(n){super(),this.eventTarget_=n,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(n,t){if(!n||!t)return;const i=this.listeners_||(this.listeners_={}),r=i[n]||(i[n]=[]);r.includes(t)||r.push(t)}dispatchEvent(n){const t=typeof n=="string",i=t?n:n.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const e=t?new A(n):n;e.target||(e.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,u[i]=0),++a[i];let o;for(let l=0,h=r.length;l<h;++l)if("handleEvent"in r[l]?o=r[l].handleEvent(e):o=r[l].call(this,e),o===!1||e.propagationStopped){o=!1;break}if(--a[i]===0){let l=u[i];for(delete u[i];l--;)this.removeEventListener(i,O);delete a[i]}return o}disposeInternal(){this.listeners_&&C(this.listeners_)}getListeners(n){return this.listeners_&&this.listeners_[n]||void 0}hasListener(n){return this.listeners_?n?n in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(n,t){if(!this.listeners_)return;const i=this.listeners_[n];if(!i)return;const r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&n in this.pendingRemovals_?(i[r]=O,++this.pendingRemovals_[n]):(i.splice(r,1),i.length===0&&delete this.listeners_[n]))}}const W=Y,$={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function R(s,n,t,i,r){if(i&&i!==s&&(t=t.bind(i)),r){const a=t;t=function(){s.removeEventListener(n,t),a.apply(this,arguments)}}const e={target:s,type:n,listener:t};return s.addEventListener(n,t),e}function y(s,n,t,i){return R(s,n,t,i,!0)}function I(s){s&&s.target&&(s.target.removeEventListener(s.type,s.listener),C(s))}class _ extends W{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent($.CHANGE)}getRevision(){return this.revision_}onInternal(n,t){if(Array.isArray(n)){const i=n.length,r=new Array(i);for(let e=0;e<i;++e)r[e]=R(this,n[e],t);return r}return R(this,n,t)}onceInternal(n,t){let i;if(Array.isArray(n)){const r=n.length;i=new Array(r);for(let e=0;e<r;++e)i[e]=y(this,n[e],t)}else i=y(this,n,t);return t.ol_key=i,i}unInternal(n,t){const i=t.ol_key;if(i)X(i);else if(Array.isArray(n))for(let r=0,e=n.length;r<e;++r)this.removeEventListener(n[r],t);else this.removeEventListener(n,t)}}_.prototype.on;_.prototype.once;_.prototype.un;function X(s){if(Array.isArray(s))for(let n=0,t=s.length;n<t;++n)I(s[n]);else I(s)}const j=_;function hs(){throw new Error("Unimplemented abstract method.")}let q=0;function z(s){return s.ol_uid||(s.ol_uid=String(++q))}class L extends A{constructor(n,t,i){super(n),this.key=t,this.oldValue=i}}class Z extends j{constructor(n){super(),this.on,this.once,this.un,z(this),this.values_=null,n!==void 0&&this.setProperties(n)}get(n){let t;return this.values_&&this.values_.hasOwnProperty(n)&&(t=this.values_[n]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(n,t){let i;i=`change:${n}`,this.hasListener(i)&&this.dispatchEvent(new L(i,n,t)),i=F.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new L(i,n,t))}addChangeListener(n,t){this.addEventListener(`change:${n}`,t)}removeChangeListener(n,t){this.removeEventListener(`change:${n}`,t)}set(n,t,i){const r=this.values_||(this.values_={});if(i)r[n]=t;else{const e=r[n];r[n]=t,e!==t&&this.notify(n,e)}}setProperties(n,t){for(const i in n)this.set(i,n[i],t)}applyProperties(n){n.values_&&Object.assign(this.values_||(this.values_={}),n.values_)}unset(n,t){if(this.values_&&n in this.values_){const i=this.values_[n];delete this.values_[n],K(this.values_)&&(this.values_=null),t||this.notify(n,i)}}}const ps=Z;function ds(s,n){if(!s)throw new Error(n)}function gs(s,n,t){return Math.min(Math.max(s,n),t)}function Es(s,n,t,i,r,e){const a=r-t,u=e-i;if(a!==0||u!==0){const o=((s-t)*a+(n-i)*u)/(a*a+u*u);o>1?(t=r,i=e):o>0&&(t+=a*o,i+=u*o)}return J(s,n,t,i)}function J(s,n,t,i){const r=t-s,e=i-n;return r*r+e*e}function vs(s){const n=s.length;for(let i=0;i<n;i++){let r=i,e=Math.abs(s[i][i]);for(let u=i+1;u<n;u++){const o=Math.abs(s[u][i]);o>e&&(e=o,r=u)}if(e===0)return null;const a=s[r];s[r]=s[i],s[i]=a;for(let u=i+1;u<n;u++){const o=-s[u][i]/s[i][i];for(let l=i;l<n+1;l++)i==l?s[u][l]=0:s[u][l]+=o*s[i][l]}}const t=new Array(n);for(let i=n-1;i>=0;i--){t[i]=s[i][n]/s[i][i];for(let r=i-1;r>=0;r--)s[r][n]-=s[r][i]*t[i]}return t}function _s(s){return s*Math.PI/180}function Rs(s,n){const t=s%n;return t*n<0?t+n:t}function ms(s,n,t){return s+t*(n-s)}function N(s,n){const t=Math.pow(10,n);return Math.round(s*t)/t}function Os(s,n){return Math.floor(N(s,n))}function ys(s,n){return Math.ceil(N(s,n))}const c={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Is(s){const n=S();for(let t=0,i=s.length;t<i;++t)k(n,s[t]);return n}function Ls(s,n){return n?(n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n):s.slice()}function Ts(s,n,t){let i,r;return n<s[0]?i=s[0]-n:s[2]<n?i=n-s[2]:i=0,t<s[1]?r=s[1]-t:s[3]<t?r=t-s[3]:r=0,i*i+r*r}function As(s,n){return Q(s,n[0],n[1])}function Cs(s,n){return s[0]<=n[0]&&n[2]<=s[2]&&s[1]<=n[1]&&n[3]<=s[3]}function Q(s,n,t){return s[0]<=n&&n<=s[2]&&s[1]<=t&&t<=s[3]}function T(s,n){const t=s[0],i=s[1],r=s[2],e=s[3],a=n[0],u=n[1];let o=c.UNKNOWN;return a<t?o=o|c.LEFT:a>r&&(o=o|c.RIGHT),u<i?o=o|c.BELOW:u>e&&(o=o|c.ABOVE),o===c.UNKNOWN&&(o=c.INTERSECTING),o}function S(){return[1/0,1/0,-1/0,-1/0]}function m(s,n,t,i,r){return r?(r[0]=s,r[1]=n,r[2]=t,r[3]=i,r):[s,n,t,i]}function M(s){return m(1/0,1/0,-1/0,-1/0,s)}function Ns(s,n){const t=s[0],i=s[1];return m(t,i,t,i,n)}function Ss(s,n,t,i,r){const e=M(r);return x(e,s,n,t,i)}function Ms(s,n){return s[0]==n[0]&&s[2]==n[2]&&s[1]==n[1]&&s[3]==n[3]}function ws(s,n){return n[0]<s[0]&&(s[0]=n[0]),n[2]>s[2]&&(s[2]=n[2]),n[1]<s[1]&&(s[1]=n[1]),n[3]>s[3]&&(s[3]=n[3]),s}function k(s,n){n[0]<s[0]&&(s[0]=n[0]),n[0]>s[2]&&(s[2]=n[0]),n[1]<s[1]&&(s[1]=n[1]),n[1]>s[3]&&(s[3]=n[1])}function x(s,n,t,i,r){for(;t<i;t+=r)ss(s,n[t],n[t+1]);return s}function ss(s,n,t){s[0]=Math.min(s[0],n),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],n),s[3]=Math.max(s[3],t)}function bs(s,n){let t;return t=n(w(s)),t||(t=n(b(s)),t)||(t=n(P(s)),t)||(t=n(B(s)),t)?t:!1}function Bs(s){let n=0;return es(s)||(n=ts(s)*is(s)),n}function w(s){return[s[0],s[1]]}function b(s){return[s[2],s[1]]}function Ps(s){return[(s[0]+s[2])/2,(s[1]+s[3])/2]}function Us(s,n){let t;if(n==="bottom-left")t=w(s);else if(n==="bottom-right")t=b(s);else if(n==="top-left")t=B(s);else if(n==="top-right")t=P(s);else throw new Error("Invalid corner");return t}function Fs(s,n,t,i,r){const[e,a,u,o,l,h,d,f]=ns(s,n,t,i);return m(Math.min(e,u,l,d),Math.min(a,o,h,f),Math.max(e,u,l,d),Math.max(a,o,h,f),r)}function ns(s,n,t,i){const r=n*i[0]/2,e=n*i[1]/2,a=Math.cos(t),u=Math.sin(t),o=r*a,l=r*u,h=e*a,d=e*u,f=s[0],p=s[1];return[f-o+d,p-l-h,f-o-d,p-l+h,f+o-d,p+l+h,f+o+d,p+l-h,f-o+d,p-l-h]}function is(s){return s[3]-s[1]}function Gs(s,n,t){const i=t||S();return rs(s,n)?(s[0]>n[0]?i[0]=s[0]:i[0]=n[0],s[1]>n[1]?i[1]=s[1]:i[1]=n[1],s[2]<n[2]?i[2]=s[2]:i[2]=n[2],s[3]<n[3]?i[3]=s[3]:i[3]=n[3]):M(i),i}function B(s){return[s[0],s[3]]}function P(s){return[s[2],s[3]]}function ts(s){return s[2]-s[0]}function rs(s,n){return s[0]<=n[2]&&s[2]>=n[0]&&s[1]<=n[3]&&s[3]>=n[1]}function es(s){return s[2]<s[0]||s[3]<s[1]}function Ds(s,n){return n?(n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n):s}function Vs(s,n,t){let i=!1;const r=T(s,n),e=T(s,t);if(r===c.INTERSECTING||e===c.INTERSECTING)i=!0;else{const a=s[0],u=s[1],o=s[2],l=s[3],h=n[0],d=n[1],f=t[0],p=t[1],v=(p-d)/(f-h);let g,E;e&c.ABOVE&&!(r&c.ABOVE)&&(g=f-(p-l)/v,i=g>=a&&g<=o),!i&&e&c.RIGHT&&!(r&c.RIGHT)&&(E=p-(f-o)*v,i=E>=u&&E<=l),!i&&e&c.BELOW&&!(r&c.BELOW)&&(g=f-(p-u)/v,i=g>=a&&g<=o),!i&&e&c.LEFT&&!(r&c.LEFT)&&(E=p-(f-a)*v,i=E>=u&&E<=l)}return i}export{Is as $,x as A,ps as B,rs as C,Cs as D,A as E,Vs as F,es as G,us as H,os as I,Rs as J,Fs as K,y as L,j as M,H as N,F as O,B as P,P as Q,b as R,w as S,W as T,D as U,O as V,ls as W,cs as X,Ms as Y,Ls as Z,Bs as _,ds as a,k as a0,ws as a1,vs as a2,As as a3,ns as a4,as as a5,m as a6,ys as a7,Os as a8,Us as a9,hs as b,gs as c,C as d,$ as e,Gs as f,z as g,ts as h,S as i,M as j,is as k,R as l,fs as m,Ss as n,Ps as o,Ns as p,Q as q,Ds as r,J as s,_s as t,I as u,ms as v,Es as w,Ts as x,bs as y,V as z};
